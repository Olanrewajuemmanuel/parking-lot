# Parking Lot Demo Project


```mermaid
classDiagram
    %% Enums
    class VehicleType {
        <<enumeration>>
        Motorcycle
        Car
        Truck
        Bus
    }
    
    class SpotType {
        <<enumeration>>
        Compact
        Regular
        Large
        Handicapped
    }
    
    class ParkingSpotStatus {
        <<enumeration>>
        Available
        Occupied
        Reserved
    }
    
    class PaymentStatus {
        <<enumeration>>
        Pending
        Completed
        Failed
        Refunded
    }
    
    %% Core Domain Classes
    class Vehicle {
        +String license_plate
        +VehicleType vehicle_type
        +String color
        +new(license_plate, vehicle_type, color) Vehicle
    }
    
    class ParkingSpot {
        +String id
        +SpotType spot_type
        +u32 floor
        +ParkingSpotStatus status
        +Option~Vehicle~ vehicle
        +new(id, spot_type, floor) ParkingSpot
        +can_fit_vehicle(vehicle_type) bool
        +assign_vehicle(vehicle) Result
        +remove_vehicle() Option~Vehicle~
        +is_available() bool
    }
    
    class ParkingTicket {
        +String ticket_id
        +Vehicle vehicle
        +String spot_id
        +DateTime entry_time
        +Option~DateTime~ exit_time
        +PaymentStatus payment_status
        +new(ticket_id, vehicle, spot_id) ParkingTicket
        +mark_exit()
        +get_duration_hours() f64
    }
    
    class ParkingFloor {
        +u32 floor_number
        +HashMap~String, ParkingSpot~ spots
        +new(floor_number) ParkingFloor
        +add_spot(spot)
        +find_available_spot(vehicle_type) Option~ParkingSpot~
        +get_available_spots_count() usize
    }
    
    class ParkingLot {
        -String name
        -HashMap~u32, ParkingFloor~ floors
        -Arc~Mutex~HashMap~String, ParkingTicket~~~ active_tickets
        -Box~dyn PricingStrategy~ pricing_strategy
        -Arc~Mutex~u64~~ ticket_counter
        +new(name, pricing_strategy) ParkingLot
        +add_floor(floor)
        +park_vehicle(vehicle) Result~ParkingTicket~
        +unpark_vehicle(ticket_id, payment_processor) Result~f64~
        +get_status() ParkingLotStatus
        +display_status()
        -generate_ticket_id() String
    }
    
    class ParkingLotStatus {
        +String name
        +usize total_spots
        +usize available_spots
        +usize occupied_spots
    }
    
    %% Strategy Pattern - Pricing
    class PricingStrategy {
        <<interface>>
        +calculate_price(hours, vehicle_type) f64
    }
    
    class HourlyPricing {
        -f64 base_rate
        +new(base_rate) HourlyPricing
        +calculate_price(hours, vehicle_type) f64
    }
    
    %% Strategy Pattern - Payment
    class PaymentProcessor {
        <<interface>>
        +process_payment(amount, ticket_id) Result~String~
    }
    
    class CashPayment {
        +process_payment(amount, ticket_id) Result~String~
    }
    
    class CardPayment {
        +process_payment(amount, ticket_id) Result~String~
    }
    
    %% Relationships - Composition and Aggregation
    ParkingLot "1" *-- "1..*" ParkingFloor : contains
    ParkingFloor "1" *-- "1..*" ParkingSpot : contains
    ParkingLot "1" o-- "0..*" ParkingTicket : manages
    
    %% Associations
    ParkingSpot "0..1" --> "0..1" Vehicle : parks
    ParkingTicket "1" --> "1" Vehicle : tracks
    ParkingTicket "1" --> "1" ParkingSpot : references
    
    %% Dependencies (uses)
    ParkingLot ..> Vehicle : uses
    ParkingLot ..> ParkingLotStatus : creates
    ParkingSpot ..> VehicleType : validates
    
    %% Strategy Pattern Implementation
    ParkingLot --> PricingStrategy : uses
    PricingStrategy <|.. HourlyPricing : implements
    
    PaymentProcessor <|.. CashPayment : implements
    PaymentProcessor <|.. CardPayment : implements
    ParkingLot ..> PaymentProcessor : uses
    
    %% Enum Usage
    Vehicle --> VehicleType : has
    ParkingSpot --> SpotType : has
    ParkingSpot --> ParkingSpotStatus : has
    ParkingTicket --> PaymentStatus : has
    
    %% Notes for Design Patterns
    note for PricingStrategy "Strategy Pattern: Allows different pricing algorithms"
    note for PaymentProcessor "Strategy Pattern: Enables multiple payment methods"
    note for ParkingLot "Facade Pattern: Simplifies complex operations"
    note for ParkingLot "Repository Pattern: Manages ticket storage (active_tickets)"
```
(UML generated by Claude - by providing main classes in prompt)

## Description

This is a parking lot project that simulates a parking lot with multiple floors and spots. It also simulates a parking ticket system that allows users to park their vehicles and pay for their parking. It also simulates a parking display board that shows the number of floors, empty spots, and parked vehicles.

## Use case
1. Users should be able to book an unreserved spot
2. Users should be able to pay for their parking
3. Users should be able to leave their vehicle
4. Users should be able to view the parking display board
5. Users should be Add, remove or edit parking spot
6. Users should be able to see unreserved spots

## Actors
1. User
2. Admin
3. System

## Main classes
1. ParkingLot
2. ParkingFloor
3. ParkingSpot
4. ParkingTicket
5. ParkingCharge
6. ParkingDisplayBoard
7. Vehicle
8. User
9. Admin
10. System
